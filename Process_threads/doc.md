# 进程与线程
## 进程相关概念
 - 并行和并发 
 - `PCB`：PCB - 进程控制块（Processing Control Block）
 - 进程状态
   ```c
   //linux源码定义进程状态如下
    static const char * const task_state_array[] = {
    "R (running)", /* 0 */   -运行或将要运行
    "S (sleeping)", /* 1 */  -进程在等待事件完成
    "D (disk sleep)", /* 2 */ -此状态进程通常等待IO结束
    "T (stopped)", /* 4 */   -停止状态
    "t (tracing stop)", /* 8 */ -追踪中
    "X (dead)", /* 16 */  -死亡状态
    "Z (zombie)", /* 32 */ -僵尸进程
    };
   ```
 - 进程优先级：CPU分配资源的先后顺序就是进程的优先级
   - `PRI`:代表这个进程执行的优先级，其值越小越早被执行
   - `NI`:代表这个进程的NICE值，用于修正进程优先级
 - 创建进程 - fork
    - 父进程使用`fork`创建子进程，返回值为子进程的`id`
    - 子进程调用`fork`,返回值为 `0`
 - 父子进程
    - 代码共享，数据私有
 - `execl` 和 `execlp` 函数
    - 通过一个进程启动另一个进程，这种情况下我们可以使用`exec`族函数
 - 进程控制
    - 结束进程：调用`exit(n)`函数，`n`即为进程结束后的返回值，`0`代表进程正常退出
    - 孤儿进程
      - 父进程先挂，子进程还继续运行，此时子进程会被1号进程领养，1号进程即为`systemd`
    - 僵尸进程
      - 子进程直接结束，没有告诉父进程自己挂了，所以子进程结束时一定要给父进程一个结束码
    - 进程回收
## 进程相关命令
```shell
 ps aux  #列出所有进程
	- a: 查看所有终端的信息
	- u: 查看用户相关的信息
	- x: 显示和终端无关的进程信息
 ps axj #查看父子进程关系
 ps aux | grep 文件名称/进程名字
 ps -l 列出当前用户创建的进程
```



